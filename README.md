# 前端监控

## 1 为什么要做前端监控

- 更快的定位问题和解决问题

- 做产品决策的依据

- 为业务扩展提供更多可能性

## 2 前端监控的目标

### 2.1 稳定性（stability）

错误名称 | 备注
:-|:-
JS错误 | JS执行错误或Promise错误
资源异常 | script、link等资源加载异常
接口错误 | ajax或fetch请求接口异常
白屏 | 页面空白

### 2.2 用户体验

错误名称 | 备注
:-|:-
加载时间 | 各个阶段的加载时间
TTFB（time to first byte）首字节时间 | 指浏览器发起第一个请求到数据返回第一个字节所消耗的时间，这个时间包含了网络请求时间
FP（first paint）首次绘制 | 它包括了任何用户自定义的背景绘制，它是将第一个像素绘制到屏幕的时刻
FCP（first content paint） 首次内容绘制 | 指浏览器将第一个DOM绘制到屏幕的时间，可以是任何文本、图像、SVG等的时间
FMP（first meaningful paint） 首次有意义绘制 | 指页面可用性的量度标准
FID（firt input delay）首次输入延迟 | 用户首次和页面交互到页面响应交互的时间
卡顿 | 超过50ms的长任务

### 2.3 业务

错误名称 | 备注
:-|:-
PV | page view 即页面的浏览量或点击量
UV | 指访问某个站点的不同IP地址的人数
页面的停留时间 | 用户在每一个页面停留的时间

## 3 前端监控流程

- 前端埋点

- 数据上报

- 分析和计算 将采集到的数据进行加工汇总

- 可视化展示 将数据按照各种维度进行展示

- 监控报警 发现问题后按一定的条件触发报警

## 4 编写监控采集脚本

## 5 查询报表
